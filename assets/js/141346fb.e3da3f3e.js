"use strict";(self.webpackChunklh_site=self.webpackChunklh_site||[]).push([[4098],{3910:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>c});var s=t(4848),a=t(8453);const o={},r="Basics Workflow concepts",i={permalink:"/blog/2024/09/04/basics-of-workflows",source:"@site/blog/2024-09-04-basics-of-workflows.md",title:"Basics Workflow concepts",description:"What is a workflow engine?",date:"2024-09-04T00:00:00.000Z",tags:[],readingTime:3.2,hasTruncateMarker:!1,authors:[],frontMatter:{},unlisted:!1,nextItem:{title:"Microservices and Workflow: A Match Made in Heaven",permalink:"/blog/microservices-and-workflow"}},l={authorsImageUrls:[]},c=[{value:"What is a workflow engine?",id:"what-is-a-workflow-engine",level:2},{value:"Concepts",id:"concepts",level:3},{value:"Workflow specifications",id:"workflow-specifications",level:4},{value:"Tasks",id:"tasks",level:4},{value:"Task workers",id:"task-workers",level:4},{value:"Advantages of Workflow engines",id:"advantages-of-workflow-engines",level:3},{value:"Failure handling",id:"failure-handling",level:4},{value:"Microservices",id:"microservices",level:4},{value:"API gateway ",id:"api-gateway-",level:4},{value:"User tasks",id:"user-tasks",level:4},{value:"Integrations",id:"integrations",level:4},{value:"Common use cases",id:"common-use-cases",level:3},{value:"Process Orchestration or Microservices",id:"process-orchestration-or-microservices",level:4},{value:"Data manipulation",id:"data-manipulation",level:4}];function h(e){const n={a:"a",br:"br",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"what-is-a-workflow-engine",children:"What is a workflow engine?"}),"\n",(0,s.jsx)(n.p,{children:"A workflow engine, in the simplest way is a way to run a series of steps,\nwait for input or output,\nhow to handle problems, exceptions or retries\nand keep state of where in the steps the flow is."}),"\n",(0,s.jsx)(n.h3,{id:"concepts",children:"Concepts"}),"\n",(0,s.jsx)(n.h4,{id:"workflow-specifications",children:"Workflow specifications"}),"\n",(0,s.jsxs)(n.p,{children:["A workflow specification is the configuration, or metadata object, that tells the engine what Tasks to run,\nwhat order to run the tasks,\n",(0,s.jsx)(n.strong,{children:"how to handle exceptions or failures,"}),"\nwhat variables are to be passed from task to task,\nand what inputs and outputs are required to run the workflow."]}),"\n",(0,s.jsxs)(n.p,{children:["In LittleHorse the Workflow Spec is submitted to and held by the LittleHorse server.\nIt is a written in Code, using the LittleHorse SDK.",(0,s.jsx)(n.br,{}),"\n","In the background LittleHorse server takes the submitted spec from the SDK, and compiles a protobuf object that is submitted to the LittleHorse server."]}),"\n",(0,s.jsx)(n.p,{children:"Example:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-declarative",children:'public class QuickstartWorkflow {\n\n    public static final String WF_NAME = "quickstart";\n    public static final String GREET = "greet";\n\n    /*\n     * This method defines the logic of our workflow\n     */\n    public void quickstartWf(WorkflowThread wf) {\n        // Create an input variable, make it searchable\n        WfRunVariable name = wf.addVariable("input-name", VariableType.STR).searchable();\n\n        // Execute a task and pass in the variable.\n        wf.execute(GREET, name);\n    }\n\n    /*\n     * This method returns a LittleHorse `Workflow` wrapper object that can be\n     * used to register the WfSpec to the LH Server.\n     */\n    public Workflow getWorkflow() {\n        return Workflow.newWorkflow(WF_NAME, this::quickstartWf);\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h4,{id:"tasks",children:"Tasks"}),"\n",(0,s.jsxs)(n.p,{children:["Tasks are the unit of work for a work flow engine.",(0,s.jsx)(n.br,{}),"\n","It's best to think in examples:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Change lower case letters to upper case letters."}),"\n",(0,s.jsx)(n.li,{children:"Call an API with an input variable and pass along the output."}),"\n",(0,s.jsx)(n.li,{children:"Wait for user input or an event to happen."}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"task-workers",children:"Task workers"}),"\n",(0,s.jsxs)(n.p,{children:["Task workers are the places where tasks are executed.",(0,s.jsx)(n.br,{}),"\n","There can be one or many more task workers per task, this allows for scalability and reliability when executing tasks."]}),"\n",(0,s.jsx)(n.h3,{id:"advantages-of-workflow-engines",children:"Advantages of Workflow engines"}),"\n",(0,s.jsx)(n.h4,{id:"failure-handling",children:"Failure handling"}),"\n",(0,s.jsxs)(n.p,{children:["When automating a business process what to do when something doesn't happen, happens with an unexpected outcome, or plain fails is a core challenge.",(0,s.jsx)(n.br,{}),"\n","More often than not this is hard to reason about, leading to uncaught exceptions that lead to questioning completeness of a workflow or plain incorrect data.",(0,s.jsx)(n.br,{}),"\n","A workflow engine standardizes how to throw an exception, where the exception is logged, and the logic around when/how to retry."]}),"\n",(0,s.jsx)(n.h4,{id:"microservices",children:"Microservices"}),"\n",(0,s.jsxs)(n.p,{children:["Colt McNealy talks about how to wrangle Microservices with a workflow engine, ",(0,s.jsx)(n.a,{href:"https://littlehorse.dev/blog/microservices-and-workflow",children:"https://littlehorse.dev/blog/microservices-and-workflow"}),".",(0,s.jsx)(n.br,{}),"\n","The inherent properties of a workflow engine enable developers, and operators, to regain control of their microservices deployments."]}),"\n",(0,s.jsx)(n.h4,{id:"api-gateway-",children:"API gateway "}),"\n",(0,s.jsx)(n.p,{children:"If we look at the properties of an API gateway and how they are used, a workflow engine makes sense."}),"\n",(0,s.jsxs)(n.p,{children:["The usage of an API gateway is to have a single layer that abstracts further endpoints.",(0,s.jsx)(n.br,{}),"\n","In practice this most often means calling the same API gateway multiple times, receiving the requested data, and doing some date manipulation or calculations at the application layer.\nA workflow engine performs all of the most common actions, and includes things like centralized security, possible data obscurity, failure handling, observability and allows for operators to scale compute.\nAll while still maintaining a central plane that can be shared across an entire orginization.",(0,s.jsx)(n.br,{}),"\n","Additionally a workflow engine still allows for the standard CRUD(Create, Read, Update, Delete) operations that an API gateway provides."]}),"\n",(0,s.jsx)(n.h4,{id:"user-tasks",children:"User tasks"}),"\n",(0,s.jsx)(n.p,{children:"A user task allows a developer to inject a human into the process.  Using UserTasks you can assign a human to do something.\nOften times this means having a human approve a process, or reject a request."}),"\n",(0,s.jsx)(n.h4,{id:"integrations",children:"Integrations"}),"\n",(0,s.jsx)(n.h3,{id:"common-use-cases",children:"Common use cases"}),"\n",(0,s.jsx)(n.h4,{id:"process-orchestration-or-microservices",children:"Process Orchestration or Microservices"}),"\n",(0,s.jsx)(n.h4,{id:"data-manipulation",children:"Data manipulation"})]})}function d(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>r,x:()=>i});var s=t(6540);const a={},o=s.createContext(a);function r(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);