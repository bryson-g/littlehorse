"use strict";(self.webpackChunklh_site=self.webpackChunklh_site||[]).push([[4792],{6575:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>i,toc:()=>u});var s=t(4848),a=t(8453),r=t(1470),l=t(9365);const c={},o="Managing Metadata",i={id:"developer-guide/grpc/managing-metadata",title:"Managing Metadata",description:"Before you can run a WfRun, you need to create your WfSpec's! This guide shows you how to do that.",source:"@site/docs/05-developer-guide/09-grpc/05-managing-metadata.md",sourceDirName:"05-developer-guide/09-grpc",slug:"/developer-guide/grpc/managing-metadata",permalink:"/docs/developer-guide/grpc/managing-metadata",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Background",permalink:"/docs/developer-guide/grpc/basics"},next:{title:"Running a Workflow",permalink:"/docs/developer-guide/grpc/running-workflows"}},d={},u=[{value:"<code>TaskDef</code>",id:"taskdef",level:2},{value:"<code>WfSpec</code>",id:"wfspec",level:2},{value:"<code>ExternalEventDef</code>",id:"externaleventdef",level:2},{value:"<code>UserTaskDef</code>",id:"usertaskdef",level:2}];function f(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"managing-metadata",children:"Managing Metadata"}),"\n",(0,s.jsxs)(n.p,{children:["Before you can run a ",(0,s.jsx)(n.code,{children:"WfRun"}),", you need to create your ",(0,s.jsx)(n.code,{children:"WfSpec"}),"'s! This guide shows you how to do that."]}),"\n",(0,s.jsxs)(n.p,{children:["You can manage Metadata Objects (",(0,s.jsx)(n.code,{children:"WfSpec"}),", ",(0,s.jsx)(n.code,{children:"TaskDef"}),", ",(0,s.jsx)(n.code,{children:"ExternalEventDef"}),", and ",(0,s.jsx)(n.code,{children:"UserTaskDef"}),") either using ",(0,s.jsx)(n.code,{children:"lhctl"})," or with a grpc client. This section details how to manage them using the SDK's and grpc clients."]}),"\n",(0,s.jsxs)(n.p,{children:["Please note that as of LittleHorse ",(0,s.jsx)(n.code,{children:"0.7.0"}),", all metadata requests are idempotent."]}),"\n",(0,s.jsx)(n.h2,{id:"taskdef",children:(0,s.jsx)(n.code,{children:"TaskDef"})}),"\n",(0,s.jsxs)(n.p,{children:["In general, the easiest way to register a ",(0,s.jsx)(n.code,{children:"TaskDef"})," in LittleHorse is through a ",(0,s.jsx)(n.code,{children:"LHTaskWorker"})," object or struct."]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)(l.A,{value:"java",label:"Java",default:!0,children:[(0,s.jsx)(n.p,{children:"Let's say I have a properly-annotated Task Worker class:"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'class Greeter {\n    @LHTaskMethod("greet")\n    public String greeting(String name) {\n        return "Hello there, " + name;\n    }\n}\n'})}),(0,s.jsxs)(n.p,{children:["You can use the ",(0,s.jsx)(n.code,{children:"LHTaskWorker"})," to create the ",(0,s.jsx)(n.code,{children:"TaskDef"})," as follows:"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'LHConfig config = ...;\nLHTaskWorker worker = new LHTaskWorker(new Greeter(), "greeting", config);\nworker.registerTaskDef();\n'})}),(0,s.jsxs)(n.p,{children:["You can get a ",(0,s.jsx)(n.code,{children:"TaskDef"})," or delete it using the grpc client:"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'LittleHorseBlockingStub client = ...;\n\n// Get a TaskDef\nTaskDefId taskId = TaskDefId.newBuilder().setName("my-task").build();\nTaskDef myTask = client.getTaskDef(taskId);\n\n// Delete the task\nclient.deleteTaskDef(DeleteTaskDefRequest.newBuilder().setId(taskId).build());\n'})})]}),(0,s.jsxs)(l.A,{value:"go",label:"Go",children:[(0,s.jsxs)(n.p,{children:["You can use the ",(0,s.jsx)(n.code,{children:"LHTaskWorker"})," struct to automatically register a ",(0,s.jsx)(n.code,{children:"TaskDef"})," from your Task Function. First, create your ",(0,s.jsx)(n.code,{children:"LHTaskWorker"})," as follows (assuming that ",(0,s.jsx)(n.code,{children:"myTaskFunc"})," is a function pointer to your Task Function):"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'config := common.NewConfigFromEnv()\nclient, err := config.GetGrpcClient()\n\ntw, _ := taskworker.NewTaskWorker(config, myTaskFunc, "my-task")\n\n_, err := tw.RegisterTaskDef()\n'})}),(0,s.jsxs)(n.p,{children:["The above automatically generates a ",(0,s.jsx)(n.code,{children:"TaskDef"})," from the function signature using GoLang reflection, and registers it with the API."]}),(0,s.jsxs)(n.p,{children:["You can get and delete ",(0,s.jsx)(n.code,{children:"TaskDef"}),"'s as follows:"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'client, _ := config.GetGrpcClient()\ntaskDefId := &model.TaskDefId{Name: "my-task"}\n\ntaskDef, err := (*client).GetTaskDef(context.Background(), taskDefId)\n\n// delete the TaskDef\n_, err = (*client).DeleteTaskDef(context.Background(), &model.DeleteTaskDefRequest{\n    Id: taskDefId,\n})\n'})})]}),(0,s.jsxs)(l.A,{value:"python",label:"Python",children:[(0,s.jsxs)(n.p,{children:["Any ",(0,s.jsx)(n.code,{children:"async"})," function could be a task."]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'async def greeting(name: str) -> str:\n    return f"Hello {name}!."\n'})}),(0,s.jsxs)(n.p,{children:["You can use the ",(0,s.jsx)(n.code,{children:"littlehorse.create_task_def()"})," util to create a new task at the server."]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'async def main() -> None:\n    config = get_config()\n    littlehorse.create_task_def(greeting, "greet", config)\n    ...\n'})}),(0,s.jsxs)(n.p,{children:["If you want to get or delete a TaskDef you can use ",(0,s.jsx)(n.code,{children:"config.stub()"})," function:"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'config = get_config()\nstub = config.stub()\ntask_id = TaskDefId(name="greet")\nstub.GetTaskDef(task_id)\nstub.DeleteTaskDef(DeleteTaskDefRequest(task_id))\n'})})]})]}),"\n",(0,s.jsx)(n.h2,{id:"wfspec",children:(0,s.jsx)(n.code,{children:"WfSpec"})}),"\n",(0,s.jsxs)(n.p,{children:["In LittleHorse, the easiest way to deploy a ",(0,s.jsx)(n.code,{children:"WfSpec"})," is using the ",(0,s.jsx)(n.code,{children:"Workflow"})," class or struct provided by our Java, Go, and Python SDK's. The ",(0,s.jsx)(n.code,{children:"Workflow"})," class takes in a ",(0,s.jsx)(n.code,{children:"WorkflowThread"})," function reference that defines your ",(0,s.jsx)(n.code,{children:"WfSpec"})," logic (this is covered in the ",(0,s.jsx)(n.a,{href:"/docs/developer-guide/wfspec-development/",children:"Developing Workflows Documentation"}),"), and has a ",(0,s.jsx)(n.code,{children:"compile()"})," method which returns a ",(0,s.jsx)(n.code,{children:"PutWfSpecRequest"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Like other metadata requests, the ",(0,s.jsx)(n.code,{children:"rpc PutWfSpec"})," is idempotent. However, as described in our ",(0,s.jsxs)(n.a,{href:"/docs/concepts/workflows#wfspec-versioning",children:[(0,s.jsx)(n.code,{children:"WfSpec"})," Versioning docs"]}),", ",(0,s.jsx)(n.code,{children:"WfSpec"})," objects have compound versioning that enforces certain compatibility rules between versions. In the ",(0,s.jsx)(n.code,{children:"PutWfSpecRequest"}),", you have the option to set the ",(0,s.jsx)(n.code,{children:"allowed_updates"})," field of the ",(0,s.jsx)(n.code,{children:"PutWfSpecRequest"}),". There are three values:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"ALL_UPDATES"}),": both breaking changes and minor revisions are accepted."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"MINOR_REVISION_UPDATES"}),": breaking changes are rejected, but minor revisions are accepted."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"NO_UPDATES"}),": the request will fail if the specified new ",(0,s.jsx)(n.code,{children:"WfSpec"})," differs from the latest version."]}),"\n"]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)(l.A,{value:"java",label:"Java",default:!0,children:[(0,s.jsxs)(n.p,{children:["You can execute the ",(0,s.jsx)(n.code,{children:"PutWfSpecRequest"})," with a specific ",(0,s.jsx)(n.code,{children:"AllowedUpdateType"})," as follows:"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'LittleHorseBlockingStub client = ...;\nWorkflow wf = Workflow.newWorkflow("my-workflow", someWorkflowThreadFunc); // see WfSpec Development Docs\n\n// Optionally set the update type on the workflow.\nwf.withUpdateType(AllowedUpdateType.MINOR_REVISION_UPDATES);\n\nwf.registerWf(client);\n\n// Alternatively, use the raw grpc client.\nPutWfSpecRequest request = wf.compile();\nclient.putWfSpec(request);\n'})}),(0,s.jsxs)(n.p,{children:["You can get a ",(0,s.jsx)(n.code,{children:"WfSpec"})," as follows:"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'LittleHorseBlockingStub client = ...;\nWfSpecId wfId = WfSpecId.newBuilder()\n        .setName("my-wf")\n        .setMajorVersion(2)\n        .setRevision(1)\n        .build();\n\nWfSpec wfSpec = client.getWfSpec(wfId);\n\n// Get the latest `WfSpec` with a given name\nWfSpec latestWfSpec = client.getLatestWfSpec(\n    GetLatestWfSpecRequest.newBuilder().setName("my-wf").build()\n);\n\n// Get the latest `WfSpec` with a given name and majorVersion 1\nWfSpec latestWfSpec = client.getLatestWfSpec(\n    GetLatestWfSpecRequest.newBuilder().setName("my-wf").setMajorVersion(1).build()\n);\n\n// Delete a WfSpec\nclient.deleteWfSpec(DeleteWfSpecRequest.newBuilder().setId(wfId).build());\n'})})]}),(0,s.jsxs)(l.A,{value:"go",label:"Go",children:[(0,s.jsxs)(n.p,{children:["Assuming that you have a function ",(0,s.jsx)(n.code,{children:"basic.MyWorkflow"})," which is a valid Workflow Function in Go, you can create a ",(0,s.jsx)(n.code,{children:"WfSpec"})," as follows:"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'config := common.NewConfigFromEnv()\nclient, err := config.GetGrpcClient()\n\nwf := wflib.NewWorkflow(basic.MyWorkflow, "my-workflow").WithUpdateType(model.AllowedUpdateType_MINOR_REVISION_UPDATES)\nputWf, _ := wf.Compile()\n\nresp, err := (*client).PutWfSpec(context.Background(), putWf)\n'})}),(0,s.jsxs)(n.p,{children:["You can get and delete ",(0,s.jsx)(n.code,{children:"WfSpec"}),"s as follows:"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'wfSpecId := &model.WfSpecId{\n    Name:         "my-wf",\n    MajorVersion: 2,\n    Revision:     1,\n}\n\nwfSpec, err := (*client).GetWfSpec(context.Background(), wfSpecId)\n\n// Get the latest wfSpec. Setting majorVersion is optional for this request\nmajorVersion := int32(2)\n\nsomeWf, err := (*client).GetLatestWfSpec(\n    context.Background(),\n    &model.GetLatestWfSpecRequest{\n        Name:         "some-wf",\n        MajorVersion: &majorVersion,\n    },\n)\n\n// delete the WfSpec\n_, err = (*client).DeleteWfSpec(context.Background(), &model.DeleteWfSpecRequest{\n    Id: wfSpecId,\n})\n'})})]}),(0,s.jsxs)(l.A,{value:"python",label:"Python",children:[(0,s.jsxs)(n.p,{children:["Assuming you have a workflow, you can use the ",(0,s.jsx)(n.code,{children:"littlehorse.create_workflow_spec()"})," utility function."]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'async def main() -> None:\n    config = LHConfig()\n    wf = Workflow("some-wf", my_wf_func)\n    wf.with_update_type(AllowedUpdateType.ALL_UPDATES)\n\n    littlehorse.create_workflow_spec(wf, config)\n'})}),(0,s.jsxs)(n.p,{children:["You can get or delete a WfSpec using a ",(0,s.jsx)(n.code,{children:"stub"}),":"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'client = config.stub()\n\nwf_spec_id = WfSpecId(name="my-workflow", majorVersion=2, revision=1)\nwf_spec = client.GetWfSpec(wf_spec_id)\n\nclient.DeleteWfSpec(DeleteWfSpecRequest(wf_spec_id))\n'})})]})]}),"\n",(0,s.jsx)(n.h2,{id:"externaleventdef",children:(0,s.jsx)(n.code,{children:"ExternalEventDef"})}),"\n",(0,s.jsxs)(n.p,{children:["As of now, the only field required to create an ",(0,s.jsx)(n.code,{children:"ExternalEventDef"})," is the ",(0,s.jsx)(n.code,{children:"name"})," of the ",(0,s.jsx)(n.code,{children:"ExternalEventDef"}),"."]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)(l.A,{value:"java",label:"Java",default:!0,children:[(0,s.jsxs)(n.p,{children:["To create an ",(0,s.jsx)(n.code,{children:"ExternalEventDef"})," in Java"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'LittleHorseBlockingStub client = ...;\n\nclient.putExternalEventDef(PutExternalEventDefRequest.newBuilder().setName("some-event").build());\n'})}),(0,s.jsxs)(n.p,{children:["You can get an ",(0,s.jsx)(n.code,{children:"ExternalEventDef"})," as follows:"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'LittleHorseBlockingStub client = ...;\n\nExternalEventDefId id = ExternalEventDefId.newBuilder().setName("my-event").build();\n\nExternalEventDef eed = client.getExternalEventDef(id);\n\n// Delete an ExternalEventDef\nclient.deleteExternalEventDef(DeleteExternalEventDef.newBuilder().setId(id).build());\n'})})]}),(0,s.jsxs)(l.A,{value:"go",label:"Go",children:[(0,s.jsxs)(n.p,{children:["Assuming that you have a function ",(0,s.jsx)(n.code,{children:"basic.MyWorkflow"})," which is a valid Workflow Function in Go, you can create a ",(0,s.jsx)(n.code,{children:"WfSpec"})," as follows:"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'config := common.NewConfigFromEnv()\nclient, err := config.GetGrpcClient()\n\nresp, err := (*client).PutExternalEventDef(context.Background(),\n    &model.PutExternalEventDefRequest{\n        Name: "some-event",\n    },\n)\n'})}),(0,s.jsxs)(n.p,{children:["You can get and delete ",(0,s.jsx)(n.code,{children:"ExternalEventDef"}),"s as follows:"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'externalEventDefId := &model.ExternalEventDefId{\n    Name: "some-event",\n}\need, err := (*client).GetExternalEventDef(context.Background(), externalEventDefId)\n\n// delete the ExternalEventDef\n_, err = (*client).DeleteExternalEventDef(context.Background(), &model.DeleteExternalEventDefRequest{\n    Id: externalEventDefId,\n})\n'})})]}),(0,s.jsxs)(l.A,{value:"python",label:"Python",children:[(0,s.jsxs)(n.p,{children:["To create a ",(0,s.jsx)(n.code,{children:"ExternalEventDef"})," in python you can use the littlehorse utils:"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'config = LHConfig()\nclient = config.stub()\n\nclient.putExternalEventDef(PutExternalEventDefRequest(name="some-external-event"))\n\n# or, use a wrapper convenience method.\nlittlehorse.create_external_event_def("my-external-event", config)\n'})}),(0,s.jsx)(n.p,{children:"You can get or delete it using our stub:"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'client = config.stub()\next_event_def_id = ExternalEventDefId(name="my-workflow")\nclient.GetExternalEventDef(ext_event_def_id)\nclient.DeleteExternalEventDef(DeleteExternalEventDefRequest(ext_event_def_id))\n'})})]})]}),"\n",(0,s.jsx)(n.h2,{id:"usertaskdef",children:(0,s.jsx)(n.code,{children:"UserTaskDef"})}),"\n",(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.code,{children:"UserTaskDef"})," specifies the data that needs to be filled out in a form for a human to complete a ",(0,s.jsx)(n.code,{children:"UserTaskRun"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Note that a ",(0,s.jsx)(n.code,{children:"UserTaskDef"})," is a versioned object (unlike a ",(0,s.jsx)(n.code,{children:"WfSpec"}),", however, there is only a ",(0,s.jsx)(n.code,{children:"version"})," number and no ",(0,s.jsx)(n.code,{children:"revision"}),"). As such, getting and deleting ",(0,s.jsx)(n.code,{children:"UserTaskDef"}),"s follows a similar pattern: we provide a ",(0,s.jsx)(n.code,{children:"GetLatestUserTaskDef"})," rpc call which allows you to get the latest ",(0,s.jsx)(n.code,{children:"UserTaskDef"})," with a given name."]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)(l.A,{value:"java",label:"Java",default:!0,children:[(0,s.jsxs)(n.p,{children:["The easiest way to create a ",(0,s.jsx)(n.code,{children:"UserTaskDef"})," in Java is using the ",(0,s.jsx)(n.code,{children:"UserTaskSchema"})," class. First, define a User Task Form using the ",(0,s.jsx)(n.code,{children:"@UserTaskField"})," annotation:"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'class SomeForm {\n    @UserTaskField(\n        displayName = "Approved?",\n        description = "Reply \'true\' if this is an acceptable request."\n    )\n    public boolean isApproved;\n\n    @UserTaskField(displayName = "Explanation", description = "Explain your answer")\n    public String explanation;\n}\n'})}),(0,s.jsxs)(n.p,{children:["Next, use that class to create a ",(0,s.jsx)(n.code,{children:"UserTaskDef"}),":"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-java",children:'LHConfig config = new LHConfig();\nLittleHorseBlockingStub client = config.getBlockingStub();\n\nUserTaskSchema requestForm = new UserTaskSchema(\n        new SomeForm(), "some-form-usertaskdef");\n\nclient.putUserTaskDef(requestForm.compile());\n'})})]}),(0,s.jsxs)(l.A,{value:"go",label:"Go",children:[(0,s.jsxs)(n.p,{children:["To create a ",(0,s.jsx)(n.code,{children:"UserTaskDef"})," in Go, you can create the ",(0,s.jsx)(n.code,{children:"PutUserTaskDefRequest"})," object."]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-go",children:'config := common.NewConfigFromEnv()\nclient, err := config.GetGrpcClient()\n\ndescription := "this is a cool usertaskdef!"\nresult, err := (*client).PutUserTaskDef(context.Background(),\n     &model.PutUserTaskDefRequest{\n        Name: "my-user-task",\n\t\tFields: []*model.UserTaskField{\n\t\t\t&model.UserTaskField{\n\t\t\t\tName: "my-first-int-field",\n\t\t\t\tType: model.VariableType_INT,\n\t\t\t},\n\t\t\t&model.UserTaskField{\n\t\t\t\tName: "my-second-str-field",\n\t\t\t\tType: model.VariableType_STR,\n\t\t\t},\n\t\t},\n\t\tDescription: &description,\n    },\n)\n'})})]}),(0,s.jsx)(l.A,{value:"python",label:"Python",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'stub = config.stub()\nstub.PutUserTaskDef(\n    PutUserTaskDefRequest(\n        name="some-form-usertaskdef",\n        description="This is a cool usertaskdef!",\n        fields=[\n            UserTaskField(name="my-first-int-field", type=VariableType.INT),\n            UserTaskField(name="my-first-str-field", type=VariableType.STR),\n        ],\n    )\n)\n'})})})]})]})}function h(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(f,{...e})}):f(e)}},9365:(e,n,t)=>{t.d(n,{A:()=>l});t(6540);var s=t(8215);const a={tabItem:"tabItem_Ymn6"};var r=t(4848);function l(e){let{children:n,hidden:t,className:l}=e;return(0,r.jsx)("div",{role:"tabpanel",className:(0,s.A)(a.tabItem,l),hidden:t,children:n})}},1470:(e,n,t)=>{t.d(n,{A:()=>b});var s=t(6540),a=t(8215),r=t(3104),l=t(6347),c=t(205),o=t(7485),i=t(1682),d=t(9466);function u(e){return s.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function f(e){const{values:n,children:t}=e;return(0,s.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:t,attributes:s,default:a}}=e;return{value:n,label:t,attributes:s,default:a}}))}(t);return function(e){const n=(0,i.X)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function h(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function p(e){let{queryString:n=!1,groupId:t}=e;const a=(0,l.W6)(),r=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,o.aZ)(r),(0,s.useCallback)((e=>{if(!r)return;const n=new URLSearchParams(a.location.search);n.set(r,e),a.replace({...a.location,search:n.toString()})}),[r,a])]}function x(e){const{defaultValue:n,queryString:t=!1,groupId:a}=e,r=f(e),[l,o]=(0,s.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!h({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const s=t.find((e=>e.default))??t[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:r}))),[i,u]=p({queryString:t,groupId:a}),[x,g]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[a,r]=(0,d.Dv)(t);return[a,(0,s.useCallback)((e=>{t&&r.set(e)}),[t,r])]}({groupId:a}),m=(()=>{const e=i??x;return h({value:e,tabValues:r})?e:null})();(0,c.A)((()=>{m&&o(m)}),[m]);return{selectedValue:l,selectValue:(0,s.useCallback)((e=>{if(!h({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);o(e),u(e),g(e)}),[u,g,r]),tabValues:r}}var g=t(2303);const m={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var j=t(4848);function v(e){let{className:n,block:t,selectedValue:s,selectValue:l,tabValues:c}=e;const o=[],{blockElementScrollPositionUntilNextRender:i}=(0,r.a_)(),d=e=>{const n=e.currentTarget,t=o.indexOf(n),a=c[t].value;a!==s&&(i(n),l(a))},u=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const t=o.indexOf(e.currentTarget)+1;n=o[t]??o[0];break}case"ArrowLeft":{const t=o.indexOf(e.currentTarget)-1;n=o[t]??o[o.length-1];break}}n?.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":t},n),children:c.map((e=>{let{value:n,label:t,attributes:r}=e;return(0,j.jsx)("li",{role:"tab",tabIndex:s===n?0:-1,"aria-selected":s===n,ref:e=>o.push(e),onKeyDown:u,onClick:d,...r,className:(0,a.A)("tabs__item",m.tabItem,r?.className,{"tabs__item--active":s===n}),children:t??n},n)}))})}function k(e){let{lazy:n,children:t,selectedValue:a}=e;const r=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=r.find((e=>e.props.value===a));return e?(0,s.cloneElement)(e,{className:"margin-top--md"}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:r.map(((e,n)=>(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==a})))})}function w(e){const n=x(e);return(0,j.jsxs)("div",{className:(0,a.A)("tabs-container",m.tabList),children:[(0,j.jsx)(v,{...n,...e}),(0,j.jsx)(k,{...n,...e})]})}function b(e){const n=(0,g.A)();return(0,j.jsx)(w,{...e,children:u(e.children)},String(n))}},8453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>c});var s=t(6540);const a={},r=s.createContext(a);function l(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);